/*
 * App URI: example/component/multilanguage
 * Source Location: example/component/multilanguage.clx
 *
 * This file was generated by eXbuilder6 compiler, Don't edit manually.
 */
(function(){
	var app = new cpr.core.App("example/component/multilanguage", {
		onPrepare: function(loader){
		},
		onCreate: function(/* cpr.core.AppInstance */ app, exports){
			var linker = {};
			// Start - User Script
			/*
			 * 콤보 박스에서 selection-change 이벤트 발생 시 호출.
			 * ComboBox Item을 선택하여 선택된 값이 저장된 후에 발생하는 이벤트.
			 */
			function onCmb1SelectionChange(/* cpr.events.CSelectionEvent */e) {
				/**
				 * @type cpr.controls.ComboBox
				 */
				var cmb1 = e.control;
				// 콤보박스에서 선택된 아이템 값으로 locale을 설정합니다.
				cpr.I18N.INSTANCE.currentLanguage = e.newSelection[e.newSelection.length-1].value;
			}
			
			/*
			 * 그리드에서 selection-change 이벤트 발생 시 호출. detail의 cell 클릭하여 설정된 selectionunit에 해당되는
			 * 단위가 선택될 때 발생하는 이벤트입니다.
			 */
			function onMasterSelectionChange(/* cpr.events.CSelectionEvent */e) {
				/**
				 * @type cpr.controls.Grid
				 */
				var master = e.control;
				var detail = app.lookup("detail");
				var ds = app.lookup("ds1");
				var master = app.lookup("master");
				var selection = master.getSelectedRowIndices();
				// 바인드 문맥을 설정합니다.
				// detail에 그리드의 선택된 row가 바인딩 됩니다.
				detail.setBindContext(new cpr.bind.DataRowContext(ds, selection[0]));
				detail.redraw();
			};
			// End - User Script
			
			// Header
			app.declareBindableAppProperty("title", null);
			app.declareBindableAppProperty("explain", null);
			var dataSet_1 = new cpr.data.DataSet("ds1");
			dataSet_1.parseData({
				"columns": [
					{"name": "PD_NM"},
					{"name": "PD_COUNT"},
					{"name": "PD_DIV"},
					{"name": "PD_CLASS"}
				],
				"rows": [
					{"PD_NM": "냉장고", "PD_COUNT": "2", "PD_DIV": "0001", "PD_CLASS": "가전"},
					{"PD_NM": "TV", "PD_COUNT": "3", "PD_DIV": "0002", "PD_CLASS": "가전"},
					{"PD_NM": "세탁기", "PD_COUNT": "5", "PD_DIV": "0003", "PD_CLASS": "가전"},
					{"PD_NM": "새우깡", "PD_COUNT": "200", "PD_DIV": "0004", "PD_CLASS": "기호식품"}
				]
			});
			(function(dataSet){
				var dataView_1 = new cpr.data.DataView("dv1", dataSet);
				dataView_1.parseData({});
				app.register(dataView_1);
			})(dataSet_1);
			app.register(dataSet_1);
			
			app.supportMedia("all and (min-width: 1024px)", "default");
			app.supportMedia("all and (min-width: 500px) and (max-width: 1023px)", "tablet");
			app.supportMedia("all and (max-width: 499px)", "mobile");
			
			// Configure root container
			var container = app.getContainer();
			container.style.css({
				"width" : "100%",
				"top" : "0px",
				"height" : "100%",
				"left" : "0px"
			});
			
			// Layout
			var xYLayout_1 = new cpr.controls.layouts.XYLayout();
			container.setLayout(xYLayout_1);
			
			// UI Configuration
			var comboBox_1 = new cpr.controls.ComboBox("cmb1");
			comboBox_1.value = "ko";
			(function(comboBox_1){
				comboBox_1.addItem(new cpr.controls.Item("한국어", "ko"));
				comboBox_1.addItem(new cpr.controls.Item("영어", "en"));
				comboBox_1.addItem(new cpr.controls.Item("일본어", "ja"));
			})(comboBox_1);
			if(typeof onCmb1SelectionChange == "function") {
				comboBox_1.addEventListener("selection-change", onCmb1SelectionChange);
			}
			container.addChild(comboBox_1, {
				"top": "70px",
				"right": "35px",
				"width": "132px",
				"height": "20px"
			});
			
			var grid_1 = new cpr.controls.Grid("master");
			grid_1.readOnly = true;
			grid_1.init({
				"dataSet": app.lookup("ds1"),
				"hScroll": "hidden",
				"vScroll": "hidden",
				"columns": [
					{"width": "100px"},
					{"width": "100px"},
					{"width": "100px"},
					{"width": "100px"}
				],
				"header": {
					"rows": [{"height": "24px"}],
					"cells": [
						{
							"constraint": {"rowIndex": 0, "colIndex": 0},
							"configurator": function(cell){
								cell.text = "상품명";
								cell.control = (function(){
									var output_1 = new cpr.controls.Output();
									output_1.value = "Output";
									output_1.bind("value").toLanguage("259");
									return output_1;
								})();
							}
						},
						{
							"constraint": {"rowIndex": 0, "colIndex": 1},
							"configurator": function(cell){
								cell.text = "상품수";
								cell.control = (function(){
									var output_2 = new cpr.controls.Output();
									output_2.value = "Output";
									output_2.bind("value").toLanguage("260");
									return output_2;
								})();
							}
						},
						{
							"constraint": {"rowIndex": 0, "colIndex": 2},
							"configurator": function(cell){
								cell.text = "상품구분";
								cell.control = (function(){
									var output_3 = new cpr.controls.Output();
									output_3.value = "Output";
									output_3.bind("value").toLanguage("257");
									return output_3;
								})();
							}
						},
						{
							"constraint": {"rowIndex": 0, "colIndex": 3},
							"configurator": function(cell){
								cell.text = "상품분류";
								cell.control = (function(){
									var output_4 = new cpr.controls.Output();
									output_4.value = "Output";
									output_4.bind("value").toLanguage("258");
									return output_4;
								})();
							}
						}
					]
				},
				"detail": {
					"rows": [{"height": "24px"}],
					"cells": [
						{
							"constraint": {"rowIndex": 0, "colIndex": 0},
							"configurator": function(cell){
								cell.columnName = "PD_NM";
							}
						},
						{
							"constraint": {"rowIndex": 0, "colIndex": 1},
							"configurator": function(cell){
								cell.columnName = "PD_COUNT";
							}
						},
						{
							"constraint": {"rowIndex": 0, "colIndex": 2},
							"configurator": function(cell){
								cell.columnName = "PD_DIV";
							}
						},
						{
							"constraint": {"rowIndex": 0, "colIndex": 3},
							"configurator": function(cell){
								cell.columnName = "PD_CLASS";
							}
						}
					]
				}
			});
			if(typeof onMasterSelectionChange == "function") {
				grid_1.addEventListener("selection-change", onMasterSelectionChange);
			}
			container.addChild(grid_1, {
				"top": "100px",
				"right": "35px",
				"left": "20px",
				"height": "200px"
			});
			
			var group_1 = new cpr.controls.Container("detail");
			group_1.style.css({
				"border-right-style" : "solid",
				"border-top-width" : "1px",
				"border-left-style" : "solid",
				"border-right-width" : "1px",
				"border-bottom-width" : "1px",
				"border-bottom-style" : "solid",
				"border-left-width" : "1px",
				"border-top-style" : "solid"
			});
			var dataRowContext_1 = new cpr.bind.DataRowContext(app.lookup("ds1"), -1);
			group_1.setBindContext(dataRowContext_1);
			// Layout
			var xYLayout_2 = new cpr.controls.layouts.XYLayout();
			group_1.setLayout(xYLayout_2);
			(function(container){
				var output_5 = new cpr.controls.Output();
				output_5.value = "상품명";
				output_5.bind("value").toLanguage("259");
				container.addChild(output_5, {
					"top": "26px",
					"left": "29px",
					"width": "158px",
					"height": "20px"
				});
				var output_6 = new cpr.controls.Output();
				output_6.value = "상품수";
				output_6.bind("value").toLanguage("260");
				container.addChild(output_6, {
					"top": "56px",
					"left": "29px",
					"width": "158px",
					"height": "20px"
				});
				var output_7 = new cpr.controls.Output();
				output_7.value = "상품구분";
				output_7.bind("value").toLanguage("257");
				container.addChild(output_7, {
					"top": "86px",
					"left": "29px",
					"width": "158px",
					"height": "20px"
				});
				var output_8 = new cpr.controls.Output();
				output_8.value = "상품분류";
				output_8.bind("value").toLanguage("258");
				container.addChild(output_8, {
					"top": "116px",
					"left": "29px",
					"width": "158px",
					"height": "20px"
				});
				var inputBox_1 = new cpr.controls.InputBox("ipb1");
				inputBox_1.bind("value").toDataColumn("PD_NM");
				container.addChild(inputBox_1, {
					"top": "26px",
					"left": "197px",
					"width": "180px",
					"height": "20px"
				});
				var inputBox_2 = new cpr.controls.InputBox("ipb2");
				inputBox_2.bind("value").toDataColumn("PD_COUNT");
				container.addChild(inputBox_2, {
					"top": "56px",
					"left": "197px",
					"width": "180px",
					"height": "20px"
				});
				var inputBox_3 = new cpr.controls.InputBox("ipb3");
				inputBox_3.bind("value").toDataColumn("PD_DIV");
				container.addChild(inputBox_3, {
					"top": "86px",
					"left": "197px",
					"width": "180px",
					"height": "20px"
				});
				var inputBox_4 = new cpr.controls.InputBox("ipb4");
				inputBox_4.bind("value").toDataColumn("PD_CLASS");
				container.addChild(inputBox_4, {
					"top": "116px",
					"left": "197px",
					"width": "180px",
					"height": "20px"
				});
			})(group_1);
			container.addChild(group_1, {
				"top": "330px",
				"right": "35px",
				"left": "20px",
				"height": "160px"
			});
			
			var output_9 = new cpr.controls.Output();
			output_9.value = "다국어 설정";
			container.addChild(output_9, {
				"top": "70px",
				"right": "177px",
				"width": "100px",
				"height": "20px"
			});
			
			var userDefinedControl_1 = new udc.pagetitle2();
			userDefinedControl_1.bind("title").toAppProperty("title");
			userDefinedControl_1.bind("explain").toAppProperty("explain");
			container.addChild(userDefinedControl_1, {
				"top": "10px",
				"right": "10px",
				"left": "10px",
				"height": "50px"
			});
		}
	});
	app.title = "마스터/디테일";
	cpr.core.Platform.INSTANCE.register(app);
})();
